# Send/Sync

structのfield型に基づいて自動的に付与されるauto trait.

* `T: Send`はTのownershipを他のthreadに移してもよいことを意味する
* `T: Sync`はTの共有件(`&T`)を他のthreadに与えてもよいことを意味する

> &RefCell<i32> を他のスレッドに与えてしまうと、そのスレッドと元のスレッドがロックに交互にアクセスすることが可能になってしまいます。したがって、 RefCell<i32>: !Sync です。
  しかし、 RefCell<i32> そのものを他のスレッドに送っても、元スレッドからは同じロックへのアクセス権は失われるので、データ競合にはなりえません。したがって、 RefCell<i32>: Send で問題ありません。
  逆の例としては MutexGuard<i32> があります。(1.39.0時点)
  
> MutexGuard<i32> はロックの解放義務があること以外は &mut i32 とほぼ同じです。 &MutexGuard<i32> を他スレッドに送ってもロックの解放義務は元スレッドにあるため、実質的には &&mut i32 を送っているのと同じです。したがって MutexGuard<i32>: Sync で問題ありません。
  しかし、 MutexGuard<i32> そのものを他スレッドに送ってしまうと、ロックの取得と解放が別スレッドで行われることになってしまいます。 Mutex はプラットフォームによってはシステムミューテックスに依存しており、システムミューテックスでは別スレッドでのロックの解放を必ずしも許していないと考えられます。したがって、 MutexGuard<i32>: !Send となっています。

https://qiita.com/qnighy/items/5e673b2d74e5b01a6c8d

## 参考

